import"./assets/modulepreload-polyfill-B5Qt9EMX.js";/* empty css                      */import{v as f}from"./assets/vendor-Cm4QSoKt.js";const a=document.querySelector(".feedback-form");let r={email:"",message:""};const n="feedback-form-state";document.addEventListener("DOMContentLoaded",g);a.addEventListener("input",d);a.addEventListener("submit",u);//!======================================================
function g(){const e=S(n);try{if(e&&typeof e=="object"){r.email=e.email||"",r.message=e.message||"";const{email:t,message:o}=E();t&&o&&(t.value=r.email,o.value=r.message)}}catch(t){console.warn("Failed to parse LS or restore form state",t)}}function d(e){i();const{name:t,value:o}=e.target;t in r&&(r[t]=o,v(n,r))}function u(e){e.preventDefault();const t=r.email.trim(),o=r.message.trim(),s=f.isEmail(t),m=t.length===0,c=o.length===0;if(!m&&!s){l("Invalid email");return}else if(m||c){l("Fill please all fields");return}r.email=t,r.message=o,console.log(r),p(a)}//!======================================================
function E(){const{email:e,message:t}=a.elements;return{email:e,message:t}}function l(e){if(a.querySelector(".form-error-message"))return;const t=`<p class="form-error-message">${e}</p>`;a.insertAdjacentHTML("beforeend",t)}function i(){const e=a.querySelector(".form-error-message");e&&e.remove()}function p(e){i(),e.reset(),r={email:"",message:""},localStorage.removeItem(n)}//!======================================================
function v(e,t){const o=JSON.stringify(t);localStorage.setItem(e,o)}function S(e,t={}){const o=localStorage.getItem(e);try{return o?JSON.parse(o):t}catch(s){return console.warn("Failed to parse localStorage:",s),t}}
//# sourceMappingURL=2-form.js.map
